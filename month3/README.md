

---

## 🗓️ **ماه سوم: امنیت پیشرفته – پیاده‌سازی JWT، مدیریت نقش‌ها و OAuth بدون Spring Security**

### 🎯 اهداف این ماه:

* پیاده‌سازی JWT به‌صورت دستی
* تفکیک دسترسی‌ها با نقش (Admin/User)
* یادگیری مفاهیم OAuth و تفاوت با JWT
* استفاده از Token در Frontend (Vaadin)
* افزایش امنیت فرم‌ها و درخواست‌ها

---

## ✅ **هفته اول: آشنایی با JWT و پیاده‌سازی Backend Token**

| روز | موضوع                       | توضیحات                                         | تمرین                                      |
| --- | --------------------------- | ----------------------------------------------- | ------------------------------------------ |
| 1   | JWT چیست؟                   | ساختار Token، Header, Payload, Signature        | decode یک توکن در [jwt.io](https://jwt.io) |
| 2   | وابستگی‌های JWT             | استفاده از `jjwt` یا `java-jwt`                 | اضافه به `pom.xml`                         |
| 3   | ساخت کلاس JWTUtil           | متدهای generateToken و validateToken            | تولید توکن دستی برای کاربر                 |
| 4   | افزودن Token به Login       | پس از لاگین موفق، توکن برگردان                  | ذخیره توکن در مرورگر                       |
| 5   | ارسال Token در Request      | افزودن Authorization header                     | تست با Postman                             |
| 6   | اعتبارسنجی Token در Backend | بررسی امضای توکن، تاریخ انقضا                   | رد کردن توکن نامعتبر                       |
| 7   | تمرین ترکیبی                | کاربر لاگین کند، توکن بگیرد، درخواست امن بفرستد | API محافظت‌شده بنویس                       |

---

## ✅ **هفته دوم: مدیریت نقش‌ها و سطح دسترسی با Role**

| روز | موضوع                      | توضیحات                             | تمرین                       |
| --- | -------------------------- | ----------------------------------- | --------------------------- |
| 1   | آشنایی با Roleها           | تعریف نقش‌ها (Admin, User)          | Enum یا جدول Role ایجاد کن  |
| 2   | افزودن Role به User        | فیلد جدید در کلاس User              | مقداردهی اولیه              |
| 3   | ذخیره Role در JWT          | اضافه کردن نقش به Token             | payload بررسی کن            |
| 4   | بررسی Role در درخواست‌ها   | بررسی نقش هنگام ارسال توکن          | فقط Admin مجاز به حذف کاربر |
| 5   | تفکیک صفحات Vaadin با Role | مخفی کردن صفحه Admin برای User      | با چک کردن Session          |
| 6   | ایجاد Navigation کنترل‌شده | `if (isAdmin) showAdminMenu()`      | لاجیک نمایشی امن            |
| 7   | تمرین پروژه‌ای             | ساخت فرم خاص Admin (مدیریت کاربران) | فقط Admin بتواند ببیند      |

---

## ✅ **هفته سوم: آشنایی با OAuth 2.0 و تفاوت آن با JWT**

> *در این هفته فقط یادگیری مفهومی و پیاده‌سازی نمونه ساده در صورت علاقه*

| روز | موضوع                            | توضیحات                                                                   | تمرین                       |
| --- | -------------------------------- | ------------------------------------------------------------------------- | --------------------------- |
| 1   | مفهوم OAuth چیست؟                | تفاوت با JWT، نقش Client و Provider                                       | مطالعه با نمودار            |
| 2   | ثبت اپلیکیشن در Google           | ساخت کلید OAuth در [Google Dev Console](https://console.cloud.google.com) | دریافت Client ID            |
| 3   | دریافت توکن از Google            | استفاده از ابزار Postman برای Auth Code                                   | مشاهده توکن                 |
| 4   | اتصال ساده به Vaadin             | ایجاد دکمه "ورود با Google"                                               | نمایش نام کاربر پس از ورود  |
| 5   | مقایسه JWT vs OAuth              | تفاوت‌ها در امنیت، کاربرد                                                 | یادداشت و جمع‌بندی          |
| 6   | پیاده‌سازی یک بار ورود (اختیاری) | فقط تست ساده Google Login                                                 | بدون ذخیره در DB            |
| 7   | روز آزاد برای تمرین              | مرور JWT و OAuth                                                          | انتخاب یکی برای پروژه واقعی |

---

## ✅ **هفته چهارم: نهایی‌سازی پروژه امنیتی + مستندسازی**

| روز | موضوع                             | توضیحات                                                        | تمرین                            |
| --- | --------------------------------- | -------------------------------------------------------------- | -------------------------------- |
| 1   | اتصال کامل JWT به پروژه           | ورود، تولید توکن، ارسال با Vaadin                              | ذخیره در LocalStorage یا Session |
| 2   | اعتبارسنجی توکن در همه درخواست‌ها | فقط کاربران معتبر دسترسی داشته باشند                           | ریدایرکت به Login در صورت خطا    |
| 3   | مدیریت نقش در UI                  | نمایش صفحات متناسب با نقش                                      | نقش admin در صفحه داشبورد        |
| 4   | افزودن Token Expiration           | Auto logout پس از زمان مشخص                                    | پیاده‌سازی در Frontend           |
| 5   | مستندسازی امنیت                   | نوشتن `README.md` با ساختار Token، Role، Token Flow            | افزودن دیاگرام توکن              |
| 6   | انتشار پروژه نهایی                | push روی GitHub                                                | نوشتن changelog                  |
| 7   | آماده‌سازی برای ماه بعد           | یادگیری مقدمات Security Filter، OAuth2 رسمی با Spring Security | پیشنهاد منابع مطالعه             |

---

## 🛠 ابزارهای این ماه:

| ابزار                         | کاربرد                   |
| ----------------------------- | ------------------------ |
| Java JWT (`jjwt`, `java-jwt`) | تولید و اعتبارسنجی JWT   |
| Postman                       | تست درخواست‌ها با Header |
| Vaadin Session                | ذخیره وضعیت کاربر        |
| MySQL / H2                    | ذخیره نقش کاربر          |
| Google OAuth Console          | تست OAuth                |
| GitHub                        | انتشار نهایی پروژه       |

---

## ✅ خروجی نهایی ماه سوم:

* اپلیکیشن کامل با:

  * ورود با فرم (JWT-based)
  * نمایش نقش‌ها در رابط کاربری
  * مدیریت دسترسی بدون Spring Security
  * پیاده‌سازی JWT Token و اعتبارسنجی
* مستندات کامل در GitHub
* آماده برای مهاجرت به Spring Security در پروژه‌های بزرگ‌تر

---



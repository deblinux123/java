**E-Commerce Admin & User System** 

---

# 🗓️ ماه سوم: Spring Security

## 📚 برنامه یادگیری (۴ هفته‌ای با پروژه مرحله‌به‌مرحله)

---

## 📅 هفته ۱ — مفاهیم پایه و شروع (پروژه: پایه‌گذاری)

🎯 هدف: آماده‌سازی پروژه + ورود اولیه امنیت

| روز | موضوعات                                                                                          | پروژه (گام به گام)                                          |
| --- | ------------------------------------------------------------------------------------------------ | ----------------------------------------------------------- |
| ۱   | مفاهیم پایه امنیت وب: Authentication, Authorization, Session, CSRF, CORS — نصب پروژه Spring Boot | ساخت پروژه Maven/Gradle `StoreAppSecurity`                  |
| ۲   | اضافه کردن `spring-boot-starter-security` و بررسی پیکربندی پیش‌فرض                               | اجرای پروژه → دیدن Login page پیش‌فرض Spring Security       |
| ۳   | ساخت کاربر در حافظه (`InMemoryUserDetailsManager`) و نقش‌ها                                      | اضافه کردن ۲ کاربر (admin, user) در کد                      |
| ۴   | استفاده از `BCryptPasswordEncoder` برای پسوردها                                                  | رمزنگاری پسوردهای admin/user                                |
| ۵   | کنترل دسترسی صفحات با `authorizeHttpRequests()`                                                  | ساخت دو صفحه `/admin` و `/user` → هر کدام فقط برای نقش خودش |

✅ در پایان هفته: یک پروژه با امنیت پایه، صفحه ورود پیش‌فرض و نقش‌ها آماده است.

---

## 📅 هفته ۲ — امنیت با دیتابیس و فرم سفارشی (پروژه: سیستم کاربر)

🎯 هدف: اتصال امنیت به دیتابیس + ساخت سیستم Login/Register

| روز | موضوعات                                    | پروژه (گام به گام)                          |
| --- | ------------------------------------------ | ------------------------------------------- |
| ۱   | ساخت `User` Entity و Repository            | جدول `users` و `roles` در دیتابیس           |
| ۲   | پیاده‌سازی `UserDetailsService` با دیتابیس | بارگذاری کاربران واقعی از DB                |
| ۳   | ساخت فرم Login سفارشی با Thymeleaf         | جایگزینی صفحه ورود پیش‌فرض                  |
| ۴   | ساخت فرم Register با ولیدیشن               | کاربر جدید ثبت شود و نقش `ROLE_USER` بگیرد  |
| ۵   | پروژه عملی: تکمیل سیستم Login/Register     | تست کامل: ورود، ثبت‌نام، دسترسی بر اساس نقش |

✅ در پایان هفته: کاربران واقعی در دیتابیس + ورود/ثبت‌نام سفارشی کامل.

---

## 📅 هفته ۳ — امنیت پیشرفته و JWT (پروژه: API امن)

🎯 هدف: یادگیری Stateless Auth + JWT برای APIها

| روز | موضوعات                                        | پروژه (گام به گام)                                    |
| --- | ---------------------------------------------- | ----------------------------------------------------- |
| ۱   | SecurityFilterChain و Stateless Authentication | حذف Session → آماده‌سازی API                          |
| ۲   | آشنایی با JWT و ایجاد توکن هنگام Login         | متد `/login` → تولید JWT                              |
| ۳   | اعتبارسنجی JWT در هر درخواست                   | ساخت JWT Filter → بررسی توکن                          |
| ۴   | Refresh Token و جلوگیری از توکن منقضی‌شده      | پیاده‌سازی endpoint `/refresh`                        |
| ۵   | پروژه عملی: API امن با JWT + Role-based Access | API `/products` فقط USER, `/admin/products` فقط ADMIN |

✅ در پایان هفته: API امن و بدون session، با JWT کامل و نقش‌بندی آماده.

---

## 📅 هفته ۴ — امنیت حرفه‌ای و نکات نهایی (پروژه: نسخه نهایی)

🎯 هدف: امنیت پیشرفته + تست کل پروژه

| روز | موضوعات                                                  | پروژه (گام به گام)                    |
| --- | -------------------------------------------------------- | ------------------------------------- |
| ۱   | پیکربندی CORS برای APIها — مقابله با CSRF                | اضافه کردن CORS config برای فرانت‌اند |
| ۲   | جلوگیری از XSS — اضافه کردن CSP و ولیدیشن ورودی          | اصلاح صفحات Thymeleaf                 |
| ۳   | OAuth2 Login با Google/GitHub                            | افزودن ورود اجتماعی (اختیاری)         |
| ۴   | مدیریت Session (زمان انقضا، جلوگیری از Session Fixation) | اگر Session فعال باشد، پیکربندی آن    |
| ۵   | تست امنیت با Postman و OWASP ZAP                         | تست کل سیستم، بررسی JWT, Roles, CSRF  |

✅ در پایان ماه: پروژه کامل (Login/Register با دیتابیس + JWT API + OAuth2 + تنظیمات امنیتی حرفه‌ای).

---


---


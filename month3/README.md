

---

## 🗓️ **ماه سوم: امنیت پیشرفته**
---

## 🗓️  یادگیری Spring Security + Thymeleaf با پروژه‌های عملی

### 🎯 اهداف این ماه:
- آشنایی با Spring Security و Thymeleaf  
- پیاده‌سازی احراز هویت و مجوز دسترسی با Role  
- استفاده از JWT در کنار Spring Security  
- یادگیری OAuth2 با Spring Security  
- ساخت پروژه‌های ساده با رابط کاربری Thymeleaf  
- مستندسازی و انتشار پروژه نهایی  

---

## ✅ هفته اول: شروع با مفاهیم پایه، فرم لاگین و Thymeleaf

| روز | موضوع | توضیحات | تمرین |
|-----|-------|---------|--------|
| 1 | آشنایی با Spring Security | معماری، فیلترها، Authentication vs Authorization | مطالعه مستندات رسمی |
| 2 | اضافه کردن Spring Security و Thymeleaf | اضافه به `pom.xml` | اجرای پروژه و مشاهده صفحه لاگین پیش‌فرض |
| 3 | ساخت فرم لاگین با Thymeleaf | طراحی فرم سفارشی با HTML و Thymeleaf | فرم لاگین با فیلدهای username و password |
| 4 | تعریف کاربر در حافظه | استفاده از `UserDetailsService` | تعریف کاربر با نقش‌های مختلف |
| 5 | رمزنگاری رمز عبور | استفاده از `BCryptPasswordEncoder` | رمزنگاری و اعتبارسنجی رمز |
| 6 | ساخت صفحه خوش‌آمدگویی | نمایش نام کاربر پس از ورود | استفاده از `${#authentication.name}` در Thymeleaf |
| 7 | پروژه ساده: سیستم لاگین | ورود، خروج، نمایش نقش | ساخت صفحات جداگانه برای Admin و User |

---

## ✅ هفته دوم: مدیریت نقش‌ها، سطح دسترسی و قالب‌بندی صفحات

| روز | موضوع | توضیحات | تمرین |
|-----|-------|---------|--------|
| 1 | تعریف Role | استفاده از Enum یا جدول Role | تعریف نقش‌ها در دیتابیس |
| 2 | اتصال به دیتابیس | استفاده از JPA برای کاربران | ذخیره کاربر و نقش در MySQL |
| 3 | مجوز دسترسی با Annotation | استفاده از `@PreAuthorize`, `@Secured` | محدود کردن دسترسی به متدها |
| 4 | نمایش نقش در UI | استفاده از Thymeleaf برای نمایش منوها | شرط نمایش با `sec:authorize="hasRole('ADMIN')"` |
| 5 | مدیریت Session | تنظیم زمان انقضا، جلوگیری از ورود همزمان | تست با مرورگرهای مختلف |
| 6 | پیاده‌سازی Remember Me | حفظ ورود کاربر بین جلسات | فعال‌سازی در پیکربندی |
| 7 | پروژه ساده: داشبورد نقش‌ها | ساخت داشبورد با سطح دسترسی | فقط Admin بتواند کاربران را حذف کند |

---

## ✅ هفته سوم: JWT و امنیت API با Spring Security

| روز | موضوع | توضیحات | تمرین |
|-----|-------|---------|--------|
| 1 | JWT چیست؟ | ساختار، مزایا، تفاوت با Session | decode در jwt.io |
| 2 | اضافه کردن JWT به پروژه | استفاده از `jjwt` یا `java-jwt` | تولید توکن پس از لاگین |
| 3 | ساخت فیلتر JWT | بررسی توکن در هر درخواست | رد کردن توکن نامعتبر |
| 4 | ذخیره نقش در توکن | اضافه کردن Role به Payload | بررسی نقش در فیلتر |
| 5 | ارسال توکن از Frontend | افزودن Authorization header | تست با Postman |
| 6 | محافظت از API | فقط کاربران معتبر دسترسی داشته باشند | ساخت endpoint امن |
| 7 | پروژه ساده: REST API امن | ورود، دریافت توکن، ارسال درخواست امن | ساخت API برای مدیریت کاربران |

---

## ✅ هفته چهارم: OAuth2، نهایی‌سازی پروژه و مستندسازی

| روز | موضوع | توضیحات | تمرین |
|-----|-------|---------|--------|
| 1 | آشنایی با OAuth2 | تفاوت با JWT، نقش Provider | مطالعه با نمودار |
| 2 | اتصال به Google OAuth | ثبت اپلیکیشن در Google Console | دریافت Client ID |
| 3 | پیاده‌سازی ورود با Google | استفاده از Spring Security OAuth2 | نمایش نام کاربر پس از ورود |
| 4 | مقایسه JWT و OAuth2 | مزایا و معایب هر روش | یادداشت و جمع‌بندی |
| 5 | نهایی‌سازی پروژه | اتصال کامل JWT و OAuth2 | ذخیره توکن در Session |
| 6 | مستندسازی امنیت | نوشتن README با دیاگرام امنیت | توضیح Flow احراز هویت |
| 7 | پروژه نهایی: سیستم مدیریت کاربران | ورود با فرم و Google، نمایش نقش‌ها، محافظت از صفحات | انتشار روی GitHub با مستندات کامل |

---

## 🛠 ابزارهای پیشنهادی:

| ابزار | کاربرد |
|------|--------|
| Spring Security | چارچوب امنیتی اصلی |
| Thymeleaf | قالب‌سازی صفحات HTML |
| jjwt / java-jwt | تولید و اعتبارسنجی JWT |
| Postman | تست API با توکن |
| MySQL / H2 | ذخیره کاربران و نقش‌ها |
| Google OAuth Console | تست ورود با Google |
| GitHub | انتشار پروژه نهایی |

---

## ✅ خروجی نهایی ماه:
- اپلیکیشن کامل با Spring Security و Thymeleaf  
- ورود با فرم و JWT  
- مدیریت نقش‌ها و سطح دسترسی  
- اتصال به OAuth2  
- رابط کاربری پویا با Thymeleaf    

---


